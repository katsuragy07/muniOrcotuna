<app-web-nav></app-web-nav>


<div class="container-fluid inicio">
    <div class="container">

        <div class="row" style="position: relative;">
            <div class="col-12 bg-normas-img">

            </div>
            <div class="col-12 bg-normas-title">
                <h3><i class="fas fa-book"></i> Noticias</h3>
                <br>
                <p>Mantente informado con los últimos sucesos.</p>
            </div>
        </div>

        <br>

        <div class="row">
            <div class="col-12">
                <h3 class="titulos">
                    Últimos acontecimientos <img class="icon pb-1" src="assets/icons/icon13.png"  width="35" alt="">
                </h3>
            </div>
        </div>

        <div class="row mt-2">

            <ng-container *ngIf="ready">
                <div class="col-12">
                    <ul class="list-unstyled " *ngFor="let data of noticias; let i = index">
                        <a [routerLink]="'/noticias/'+data.id" class="media mb-3 item-noticia">
                            <div class="row">
                                <div class="col-sm-3 pl-1 pr-1">
                                    <img [src]="URI+'upload/noticias/'+data.url_img" width="100%" class="mr-3 alcalde-img" alt="..." style="border-radius: 0px;">
                                </div>
                                <div class="col-sm-9">
                                    <div class="media-body pr-3 pl-3 pt-2 pb-2">
                                        <span class="text-muted" style="font-size: 0.8em;">Publicado el: {{data.fecha}}</span>
                                        <h5 class="mt-0 mb-1 text-limit-h text-uppercase">{{data.titulo}}</h5>
                                        <p class="text-justify text-limit-p">{{data.descripcion}}</p>
                                    </div>
                                </div>
                            </div>  
                        </a>                    
                    </ul>
                    <br>
                    <nav aria-label="Page navigation example">
                        <ul class="pagination justify-content-end">
                        <li class="page-item disabled">
                            <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Anterior</a>
                        </li>
                        
                        <li *ngFor="let page of pages" class="page-item" [ngClass]="{'active': pageActive == page.pagina}" #elemPagination><a class="page-link" (click)="listar(page.pagina)" style="cursor:pointer;">{{page.pagina}}</a></li>
        
                        <li class="page-item disabled">
                            <a class="page-link" href="#">Siguiente</a>
                        </li>
                        </ul>
                    </nav>
                </div>
            </ng-container>

            <ng-container *ngIf="!ready">
                <div class="col-12">
                    <div class="w-100 mt-4 mb-4">
                        <div class="text-center">
                            <div class="spinner-border text-primary" role="status">
                            <span class="sr-only">Loading...</span>
                            </div>
                            <br>
                            Cargando
                        </div>
                    </div>   
                </div>
            </ng-container>

        </div>
    </div>
    <br>
</div>